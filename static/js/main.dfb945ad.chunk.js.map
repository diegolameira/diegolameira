{"version":3,"sources":["components/page.js","components/profilepic.js","components/pill.js","components/filter.js","components/sidebar.js","components/block.js","components/main.js","containers/profile.js","profile.js","index.js"],"names":["_this$props","this","props","sidebar","children","react_default","a","createElement","Wrapper","page_Sidebar","page_Main","PureComponent","styled","div","_templateObject","Sidebar","aside","_templateObject2","Main","main","_templateObject3","img","attrs","_ref","src","url","profilepic_templateObject","span","highlightColor","theme","primary","pill_templateObject","_ref2","selected","_ref3","tags","actives","onSelect","Fragment","map","tag","pill","key","includes","onClick","_this$props$profile","profile","description","pictureUrl","displayName","posts","filters","toggleFilter","uniq","flatten","i","profilepic","length","filter_default","Array","from","Component","Block","id","title","subtitle","startDate","endDate","Box","concat","react_markdown_default","source","className","block_templateObject","extractData","data","_this","response","group","groupBy","filter","items","intersection","forIn","push","main_Blocks","Object","assign","Blocks","main_Wrapper","item","idx","BlockWrapper","block_Block","main_templateObject","main_templateObject2","ProfileContainer","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","newSet","Set","has","delete","add","state","react_apollo_browser_umd","query","isLoading","loading","error","console","log","parseProfile","picture","name","rest","objectWithoutProperties","objectSpread","category","current","p","parseDate","_ref4","date","DateTime","fromISO","setLocale","toLocaleString","month","year","gql","profile_templateObject","ProfilePage","profile_ProfileContainer","Loading","page_default","sidebar_Sidebar","main_Main","h1","src_profile_templateObject","client","ApolloClient","uri","rootElement","document","getElementById","ReactDOM","render","styled_components_browser_esm","secondary","profile_ProfilePage"],"mappings":"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","file":"static/js/main.dfb945ad.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nexport default class extends PureComponent {\n  render() {\n    const { sidebar, children } = this.props;\n    return (\n      <Wrapper>\n        <Sidebar>{sidebar}</Sidebar>\n        <Main>{children}</Main>\n      </Wrapper>\n    );\n  }\n}\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 20px;\n\n  @media screen and (max-width: 767px) {\n    & > * {\n      width: 100% !important;\n    }\n  }\n\n  @media screen and (min-width: 768px) {\n    padding: 20px calc(50% - 364px);\n  }\n\n  @media screen and (min-width: 1024px) {\n    padding: 20px calc(50% - 492px);\n  }\n`;\n\nconst Sidebar = styled.aside`\n  width: 30%;\n`;\n\nconst Main = styled.main`\n  width: calc(70% - 20px);\n`;\n","import styled from 'styled-components';\n\nexport default styled.img.attrs(({ url }) => ({\n  src: url || '/profilepic.jpg'\n}))`\n  width: 100%;\n  max-width: 180px;\n  border-radius: 10000px;\n  overflow: hidden;\n`;\n","import styled from 'styled-components';\n\nexport default styled.span.attrs(({ theme: { primary } }) => ({\n  highlightColor: primary\n}))`\n  padding: 10px 16px;\n  display: inline-block;\n  margin: 0 8px 8px 0;\n  border: 1px solid;\n  border-radius: 10000px;\n  cursor: pointer;\n  border-color: ${({ selected, highlightColor }) =>\n    !selected ? 'rgba(0, 0, 0, 0.2)' : highlightColor};\n  color: ${({ selected, highlightColor }) =>\n    !selected ? 'rgba(0, 0, 0, 1)' : highlightColor};\n\n  &.small {\n    padding: 0;\n    cursor: default;\n    border: 0;\n    font-size: 0.8em;\n  }\n`;\n","import React, { PureComponent } from 'react';\nimport Pill from './pill';\n\nexport default class extends PureComponent {\n  render() {\n    const { tags, actives, onSelect } = this.props;\n    return (\n      <>\n        {tags.map(tag => (\n          <Pill\n            key={tag}\n            selected={actives.includes(tag)}\n            onClick={() => onSelect(tag)}\n          >\n            {tag}\n          </Pill>\n        ))}\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { flatten, uniq } from 'lodash-es';\n\nimport Profilepic from './profilepic';\nimport Filter from '../components/filter';\n\nexport default class Sidebar extends Component {\n  render() {\n    const {\n      profile: { description, pictureUrl, displayName, posts },\n      filters,\n      toggleFilter\n    } = this.props;\n\n    const tags = uniq(flatten(posts.map(i => i.tags || [])));\n\n    return (\n      <>\n        <header>\n          <Profilepic url={pictureUrl} />\n          <h2>Hello, my name is</h2>\n          <h1>{displayName}</h1>\n        </header>\n\n        <hr />\n\n        <p>{description}</p>\n\n        <hr />\n\n        {!tags.length ? (\n          false\n        ) : (\n          <>\n            <h1>\n              Skills <em>(select to filter)</em>\n            </h1>\n\n            <Filter\n              tags={tags}\n              actives={Array.from(filters)}\n              onSelect={toggleFilter}\n            />\n          </>\n        )}\n      </>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport ReactMarkdown from 'react-markdown';\n\nimport Pill from '../components/pill';\n\nexport default class Block extends PureComponent {\n  render() {\n    const {\n      id,\n      title,\n      subtitle,\n      startDate,\n      endDate,\n      description,\n      tags\n    } = this.props;\n    return (\n      <Box>\n        <h2>\n          <em>{`${startDate} ~ ${endDate}`}</em>\n          {title}\n        </h2>\n        <h3>{subtitle}</h3>\n        <ReactMarkdown source={description} />\n        {(tags || []).map(tag => (\n          <Pill className=\"small\" key={`box-${id}-${tag}`}>\n            {tag}\n          </Pill>\n        ))}\n      </Box>\n    );\n  }\n}\n\nconst Box = styled.div`\n  box-sizing: border-box;\n  padding: 10px 20px;\n  margin-bottom: 4%;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n\n  & > h2 {\n    font-weight: 500;\n    margin: 0;\n  }\n  & > h3 {\n    margin-top: 0.5em;\n  }\n`;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { groupBy, forIn, intersection } from 'lodash-es';\n\nimport Block from '../components/block';\n\nexport default class Main extends Component {\n  extractData = data => {\n    const { filters } = this.props;\n    let response = [];\n    let group = groupBy(\n      data.filter(({ tags }) => {\n        let items = Array.from(filters);\n        return !items.length || intersection(tags, items).length;\n      }),\n      'category'\n    );\n    forIn(group, (items, title) => {\n      response.push(<Blocks key={title} {...{ title, items }} />);\n    });\n    return response;\n  };\n\n  render() {\n    const {\n      profile: { posts }\n    } = this.props;\n    return this.extractData(posts);\n  }\n}\n\nconst Blocks = ({ title, items }) => (\n  <Wrapper>\n    <h1 className=\"sticky\">{title}</h1>\n    {items.map((item, idx) => (\n      <BlockWrapper key={item.id}>\n        <Block {...item} />\n      </BlockWrapper>\n    ))}\n  </Wrapper>\n);\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  & > h1 {\n    width: 100%;\n  }\n`;\n\nconst BlockWrapper = styled.div`\n  box-sizing: border-box;\n  width: 100%;\n  @media screen and (min-width: 768px) {\n    width: 48%;\n  }\n`;\n","import React, { Component } from 'react';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport DateTime from 'luxon/src/datetime.js';\n\nexport default class ProfileContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: new Set()\n    };\n  }\n\n  toggleFilter = selected => {\n    this.setState(({ filters }) => {\n      const newSet = new Set(filters);\n      if (newSet.has(selected)) newSet.delete(selected);\n      else newSet.add(selected);\n      return {\n        filters: newSet\n      };\n    });\n  };\n\n  render() {\n    const {\n      props: { children },\n      state: { filters },\n      toggleFilter\n    } = this;\n    return (\n      <Query query={query('5c221ae2a498830017416c75')}>\n        {({ loading: isLoading, error, data }) => {\n          // TODO: improve this\n          if (error) {\n            console.log(error);\n            return <h1>Sorry, can't get my infos right now...</h1>;\n          }\n          const profile = parseProfile(data.profile);\n          return children({ isLoading, error, profile, filters, toggleFilter });\n        }}\n      </Query>\n    );\n  }\n}\n\nconst parseProfile = profile => {\n  if (!profile) return {};\n  const {\n    picture: { url: pictureUrl },\n    posts,\n    name: displayName,\n    ...rest\n  } = profile;\n  return {\n    ...rest,\n    displayName,\n    pictureUrl,\n    posts: posts.map(\n      ({\n        category: { title: category },\n        startDate,\n        endDate,\n        current,\n        tags,\n        ...p\n      }) => ({\n        ...p,\n        endDate: current ? 'onwards' : parseDate(endDate),\n        startDate: parseDate(startDate),\n        category,\n        tags: tags.map(({ title }) => title)\n      })\n    )\n  };\n};\n\nconst parseDate = date =>\n  DateTime.fromISO(date)\n    .setLocale('en')\n    .toLocaleString({ month: 'long', year: 'numeric' });\n\nconst query = id => gql`\n{\n  profile(id: \"${id}\") {\n    name\n    description\n    email\n    picture {\n      url\n    }\n    posts(sort: \"startDate:desc\") {\n      title\n      subtitle\n      startDate\n      endDate\n      current\n      description\n      category {\n        title\n      }\n      tags {\n        title\n      }\n    }\n  }\n}\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport Page from './components/page';\nimport Sidebar from './components/sidebar';\nimport Main from './components/main';\n\nimport Profile from './containers/profile';\n\nexport default class ProfilePage extends PureComponent {\n  render() {\n    return (\n      <Profile>\n        {({ isLoading, profile, filters, toggleFilter }) =>\n          isLoading ? (\n            <Loading />\n          ) : (\n            <Page sidebar={<Sidebar {...{ profile, filters, toggleFilter }} />}>\n              <Main {...{ profile, filters, toggleFilter }} />\n            </Page>\n          )\n        }\n      </Profile>\n    );\n  }\n}\n\nconst Loading = styled.h1.attrs(() => ({\n  children: 'Loading...'\n}))`\n  font-size: 20px;\n  padding: 20px;\n  text-align: center;\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from 'react-apollo';\nimport { ThemeProvider } from 'styled-components';\n\nimport ProfilePage from './profile';\n\nimport './styles.css';\n\nconst client = new ApolloClient({\n  uri: 'https://resumes-api.herokuapp.com/graphql'\n});\n\nconst theme = {\n  primary: 'rgb(255, 150, 0)',\n  secondary: 'rgb(100, 50, 190)'\n};\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <ThemeProvider theme={theme}>\n      <ProfilePage />\n    </ThemeProvider>\n  </ApolloProvider>,\n  rootElement\n);\n"],"sourceRoot":""}