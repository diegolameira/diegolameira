{"version":3,"sources":["components/page.js","components/profilepic.js","components/pill.js","components/filter.js","components/sidebar.js","components/block.js","components/main.js","containers/profile.js","profile.js","index.js"],"names":["_this$props","this","props","sidebar","children","react_default","a","createElement","Wrapper","page_Sidebar","page_Main","PureComponent","styled","div","_templateObject","Sidebar","aside","_templateObject2","Main","main","_templateObject3","img","attrs","_ref","src","url","profilepic_templateObject","span","pill_templateObject","selected","tags","actives","onSelect","Fragment","map","tag","pill","key","includes","onClick","_this$props$profile","profile","description","pictureUrl","displayName","posts","filters","toggleFilter","uniq","flatten","i","profilepic","length","filter_default","Array","from","Component","Block","id","title","subtitle","startDate","endDate","Box","concat","block_templateObject","extractData","data","_this","response","group","groupBy","filter","items","intersection","forIn","push","main_Blocks","Object","assign","Blocks","_ref2","main_Wrapper","item","BlockWrapper","block_Block","main_templateObject","main_templateObject2","ProfileContainer","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","newSet","Set","has","delete","add","state","react_apollo_browser_umd","query","isLoading","loading","error","console","log","parseProfile","picture","name","rest","objectWithoutProperties","objectSpread","_ref3","category","current","p","parseDate","_ref4","date","DateTime","fromISO","toLocaleString","month","year","gql","profile_templateObject","ProfilePage","profile_ProfileContainer","Loading","page_default","sidebar_Sidebar","main_Main","h1","src_profile_templateObject","client","ApolloClient","uri","rootElement","document","getElementById","ReactDOM","render","profile_ProfilePage"],"mappings":"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","file":"static/js/main.68c60c29.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nexport default class extends PureComponent {\n  render() {\n    const { sidebar, children } = this.props;\n    return (\n      <Wrapper>\n        <Sidebar>{sidebar}</Sidebar>\n        <Main>{children}</Main>\n      </Wrapper>\n    );\n  }\n}\n\nconst Wrapper = styled.div`\n  overflow: hidden;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 20px;\n\n  @media screen and (max-width: 767px) {\n    & > * {\n      width: 100% !important;\n    }\n  }\n\n  @media screen and (min-width: 768px) {\n    padding: 20px calc(50% - 364px);\n  }\n\n  @media screen and (min-width: 1024px) {\n    padding: 20px calc(50% - 492px);\n  }\n`;\n\nconst Sidebar = styled.aside`\n  width: 30%;\n`;\n\nconst Main = styled.main`\n  width: calc(70% - 20px);\n`;\n","import styled from 'styled-components';\n\nexport default styled.img.attrs(({ url }) => ({\n  src: url || '/profilepic.jpg'\n}))`\n  width: 100%;\n  max-width: 180px;\n  border-radius: 10000px;\n  overflow: hidden;\n`;\n","import styled from 'styled-components';\n\nexport default styled.span`\n  padding: 10px 16px;\n  display: inline-block;\n  margin: 4px;\n  border: 1px solid;\n  border-radius: 10000px;\n  cursor: pointer;\n  border-color: ${({ selected }) =>\n    !selected ? 'rgba(0, 0, 0, 0.2)' : 'rgba(255, 255, 0, 1)'};\n`;\n","import React, { PureComponent } from 'react';\nimport Pill from './pill';\n\nexport default class extends PureComponent {\n  render() {\n    const { tags, actives, onSelect } = this.props;\n    return (\n      <>\n        {tags.map(tag => (\n          <Pill\n            key={tag}\n            selected={actives.includes(tag)}\n            onClick={() => onSelect(tag)}\n          >\n            {tag}\n          </Pill>\n        ))}\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { flatten, uniq } from 'lodash-es';\n\nimport Profilepic from './profilepic';\nimport Filter from '../components/filter';\n\nexport default class Sidebar extends Component {\n  render() {\n    const {\n      profile: { description, pictureUrl, displayName, posts },\n      filters,\n      toggleFilter\n    } = this.props;\n\n    const tags = uniq(flatten(posts.map(i => i.tags || [])));\n\n    return (\n      <>\n        <header>\n          <Profilepic url={pictureUrl} />\n          <h2>Hello, my name is</h2>\n          <h1>{displayName}</h1>\n        </header>\n\n        <hr />\n\n        <p>{description}</p>\n\n        <hr />\n\n        {!tags.length ? (\n          false\n        ) : (\n          <>\n            <h1>\n              Skills <em>(select to filter)</em>\n            </h1>\n\n            <Filter\n              tags={tags}\n              actives={Array.from(filters)}\n              onSelect={toggleFilter}\n            />\n          </>\n        )}\n      </>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport Pill from '../components/pill';\n\nexport default class Block extends PureComponent {\n  render() {\n    const {\n      id,\n      title,\n      subtitle,\n      startDate,\n      endDate,\n      description,\n      tags\n    } = this.props;\n    return (\n      <Box>\n        <h2>\n          {title} <em>{`${startDate} ~ ${endDate}`}</em>\n        </h2>\n        <h3>{subtitle}</h3>\n        <p>{description}</p>\n        {(tags || []).map(tag => (\n          <Pill key={`box-${id}-${tag}`}>{tag}</Pill>\n        ))}\n      </Box>\n    );\n  }\n}\n\nconst Box = styled.div`\n  box-sizing: border-box;\n  padding: 10px 20px;\n  margin-bottom: 4%;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n`;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { groupBy, forIn, intersection } from 'lodash-es';\n\nimport Block from '../components/block';\n\nexport default class Main extends Component {\n  extractData = data => {\n    const { filters } = this.props;\n    let response = [];\n    let group = groupBy(\n      data.filter(({ tags }) => {\n        let items = Array.from(filters);\n        return !items.length || intersection(tags, items).length;\n      }),\n      'category'\n    );\n    forIn(group, (items, title) => {\n      response.push(<Blocks key={title} {...{ title, items }} />);\n    });\n    return response;\n  };\n\n  render() {\n    const {\n      profile: { posts }\n    } = this.props;\n    return this.extractData(posts);\n  }\n}\n\nconst Blocks = ({ title, items }) => (\n  <Wrapper>\n    <h1>{title}</h1>\n    {items.map(item => (\n      <BlockWrapper key={item.id}>\n        <Block {...item} />\n      </BlockWrapper>\n    ))}\n  </Wrapper>\n);\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  > h1 {\n    width: 100%;\n  }\n`;\n\nconst BlockWrapper = styled.div`\n  box-sizing: border-box;\n  width: 100%;\n  @media screen and (min-width: 768px) {\n    width: 48%;\n  }\n`;\n","import React, { Component } from 'react';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport DateTime from 'luxon/src/datetime.js';\n\nexport default class ProfileContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: new Set()\n    };\n  }\n\n  toggleFilter = selected => {\n    this.setState(({ filters }) => {\n      const newSet = new Set(filters);\n      if (newSet.has(selected)) newSet.delete(selected);\n      else newSet.add(selected);\n      return {\n        filters: newSet\n      };\n    });\n  };\n\n  render() {\n    const {\n      props: { children },\n      state: { filters },\n      toggleFilter\n    } = this;\n    return (\n      <Query query={query('5c221ae2a498830017416c75')}>\n        {({ loading: isLoading, error, data }) => {\n          // TODO: improve this\n          if (error) {\n            console.log(error);\n            return <h1>Sorry, can't get my infos right now...</h1>;\n          }\n          const profile = parseProfile(data.profile);\n          return children({ isLoading, error, profile, filters, toggleFilter });\n        }}\n      </Query>\n    );\n  }\n}\n\nconst parseProfile = profile => {\n  if (!profile) return {};\n  const {\n    picture: { url: pictureUrl },\n    posts,\n    name: displayName,\n    ...rest\n  } = profile;\n  return {\n    ...rest,\n    displayName,\n    pictureUrl,\n    posts: posts.map(\n      ({\n        category: { title: category },\n        startDate,\n        endDate,\n        current,\n        tags,\n        ...p\n      }) => ({\n        ...p,\n        endDate: current ? 'onwards' : parseDate(endDate),\n        startDate: parseDate(startDate),\n        category,\n        tags: tags.map(({ title }) => title)\n      })\n    )\n  };\n};\n\nconst parseDate = date =>\n  DateTime.fromISO(date).toLocaleString({ month: 'long', year: 'numeric' });\n\nconst query = id => gql`\n{\n  profile(id: \"${id}\") {\n    name\n    description\n    email\n    picture {\n      url\n    }\n    posts {\n      title\n      subtitle\n      startDate\n      endDate\n      current\n      description\n      category {\n        title\n      }\n      tags {\n        title\n      }\n    }\n  }\n}\n`;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport Page from './components/page';\nimport Sidebar from './components/sidebar';\nimport Main from './components/main';\n\nimport Profile from './containers/profile';\n\nexport default class ProfilePage extends PureComponent {\n  render() {\n    return (\n      <Profile>\n        {({ isLoading, profile, filters, toggleFilter }) =>\n          isLoading ? (\n            <Loading />\n          ) : (\n            <Page sidebar={<Sidebar {...{ profile, filters, toggleFilter }} />}>\n              <Main {...{ profile, filters, toggleFilter }} />\n            </Page>\n          )\n        }\n      </Profile>\n    );\n  }\n}\n\nconst Loading = styled.h1.attrs(() => ({\n  children: 'Loading...'\n}))`\n  font-size: 20px;\n  padding: 20px;\n  text-align: center;\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from 'react-apollo';\n\nimport ProfilePage from './profile';\n\nimport './styles.css';\n\nconst client = new ApolloClient({\n  uri: 'https://resumes-api.herokuapp.com/graphql'\n});\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <ProfilePage />\n  </ApolloProvider>,\n  rootElement\n);\n"],"sourceRoot":""}